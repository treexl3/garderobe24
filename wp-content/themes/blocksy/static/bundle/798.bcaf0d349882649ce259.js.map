{"version":3,"file":"798.bcaf0d349882649ce259.js","mappings":"qKAyFO,MAAMA,EAAQ,SAACC,EAAD,GAAmB,IAAd,MAAEC,GAAY,EAClCC,MAILC,SAASC,QAAQ,oBA5FlB,SAAgCC,GAC/B,IAAIC,EAAOD,EAAQE,QAAQ,QACvBC,EAASF,EAAKG,KAAK,iBAEnBC,GADUR,IAAEI,GAAM,GAAGK,OACRL,EAAKM,KAAK,gBAED,IAAfF,GAA4C,IAAdA,IACxCA,EAAa,QAGd,IAAIG,EAAW,IAAIC,SAASR,EAAK,IACjCO,EAASE,OAAOP,EAAOI,KAAK,QAASJ,EAAOQ,OAE5C,MAAMC,EAAW,IAAIJ,EAASK,WAAWC,QACxC,SAACC,EAAOC,GAAR,OACCD,GACCC,EAAQ,GAAGC,QAAQ,aAAe,EAChCC,SAASF,EAAQ,GAAI,IACrB,KACJ,GAOGf,EAAKC,QAAQ,qBAAqBiB,SACrClB,EAAKC,QAAQ,qBACXE,KAAK,iBACLgB,YAAY,SAEdnB,EAAKC,QAAQ,qBACXE,KAAK,iBACLiB,SAAS,YAGZlB,EAAOiB,YAAY,SACnBjB,EAAOkB,SAAS,WAEhB,MAAMC,EAAOC,OAAOC,YAAYhB,GAE5Bc,EAAK,iBACRA,EAAKG,WACJxB,EAAKG,KAAK,4BAA4BO,OAASR,EAAOQ,aAEhDW,EAAK,gBAIbzB,IAAE6B,SAASC,MAAM5B,QAAQ,iBAAkB,CAACI,EAAQmB,IAEpDzB,IAAAA,KAAO,CACN+B,KAAM,OACNC,IAAKC,mBAAmBC,YACtBC,WACAC,QAAQ,eAAgB,eAC1BX,OACAY,WAAY,SAAUC,KACtBC,SAAU,SAAUD,GACnBhC,EAAOiB,YAAY,YAEpBiB,QAAS,SAAUF,GACdA,EAASG,OAASH,EAASI,YAC9BC,OAAOC,SAAWN,EAASI,aAIxBtC,EAAKC,QAAQ,qBAAqBiB,SACrClB,EAAKC,QAAQ,qBACXE,KAAK,iBACLiB,SAAS,SAEXpB,EAAKC,QAAQ,qBACXE,KAAK,iBACLgB,YAAY,YAGfvB,IAAE6B,SAASC,MAAM5B,QAAQ,gBAAiB,CACzCoC,EAASO,UACTP,EAASQ,UACTxC,EACAS,QAYHgC,CAAuB/C,IAAEF","sources":["webpack://ctFrontend/./static/js/frontend/woocommerce/add-to-cart-single.js"],"sourcesContent":["import $ from 'jquery'\n\nfunction singleProductAddToCart(wrapper) {\n\tvar form = wrapper.closest('form')\n\tvar button = form.find('button.button')\n\tvar formUrl = $(form)[0].action\n\tvar formMethod = form.attr('method')\n\n\tif (typeof formMethod === 'undefined' || formMethod == '') {\n\t\tformMethod = 'POST'\n\t}\n\n\tvar formData = new FormData(form[0])\n\tformData.append(button.attr('name'), button.val())\n\n\tconst quantity = [...formData.entries()].reduce(\n\t\t(total, current) =>\n\t\t\ttotal +\n\t\t\t(current[0].indexOf('quantity') > -1\n\t\t\t\t? parseInt(current[1], 10)\n\t\t\t\t: 0),\n\t\t0\n\t)\n\n\tif (quantity === 0) {\n\t\t// return\n\t}\n\n\tif (form.closest('.quick-view-modal').length) {\n\t\tform.closest('.quick-view-modal')\n\t\t\t.find('.ct-quick-add')\n\t\t\t.removeClass('added')\n\n\t\tform.closest('.quick-view-modal')\n\t\t\t.find('.ct-quick-add')\n\t\t\t.addClass('loading')\n\t}\n\n\tbutton.removeClass('added')\n\tbutton.addClass('loading')\n\n\tconst data = Object.fromEntries(formData)\n\n\tif (data['add-to-cart']) {\n\t\tdata.product_id =\n\t\t\tform.find('input[name=variation_id]').val() || button.val()\n\n\t\tdelete data['add-to-cart']\n\t}\n\n\t// Trigger event.\n\t$(document.body).trigger('adding_to_cart', [button, data])\n\n\t$.ajax({\n\t\ttype: 'POST',\n\t\turl: woocommerce_params.wc_ajax_url\n\t\t\t.toString()\n\t\t\t.replace('%%endpoint%%', 'add_to_cart'),\n\t\tdata,\n\t\tbeforeSend: function (response) {},\n\t\tcomplete: function (response) {\n\t\t\tbutton.removeClass('loading')\n\t\t},\n\t\tsuccess: function (response) {\n\t\t\tif (response.error && response.product_url) {\n\t\t\t\twindow.location = response.product_url\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (form.closest('.quick-view-modal').length) {\n\t\t\t\tform.closest('.quick-view-modal')\n\t\t\t\t\t.find('.ct-quick-add')\n\t\t\t\t\t.addClass('added')\n\n\t\t\t\tform.closest('.quick-view-modal')\n\t\t\t\t\t.find('.ct-quick-add')\n\t\t\t\t\t.removeClass('loading')\n\t\t\t}\n\n\t\t\t$(document.body).trigger('added_to_cart', [\n\t\t\t\tresponse.fragments,\n\t\t\t\tresponse.cart_hash,\n\t\t\t\tbutton,\n\t\t\t\tquantity,\n\t\t\t])\n\t\t},\n\t})\n}\n\nexport const mount = (el, { event }) => {\n\tif (!$) {\n\t\treturn\n\t}\n\n\tctEvents.trigger('ct:header:update')\n\tsingleProductAddToCart($(el))\n}\n"],"names":["mount","el","event","$","ctEvents","trigger","wrapper","form","closest","button","find","formMethod","action","attr","formData","FormData","append","val","quantity","entries","reduce","total","current","indexOf","parseInt","length","removeClass","addClass","data","Object","fromEntries","product_id","document","body","type","url","woocommerce_params","wc_ajax_url","toString","replace","beforeSend","response","complete","success","error","product_url","window","location","fragments","cart_hash","singleProductAddToCart"],"sourceRoot":""}